(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7919:function(e,l,s){Promise.resolve().then(s.bind(s,3703))},3703:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return M}});var t=s(9268);let a=async e=>{let l=await fetch("https://3wknjhpnq4.execute-api.us-east-1.amazonaws.com/spoontoo_sample/menu_brand?brandID="+e),s=await l.json();return s};var n=s(730),i=e=>{let{data:l,error:s,isLoading:t}=(0,n.ZP)(e,a);return{restaurant:l,isLoading:t,isError:s}},r=s(6006),o=s(4304),c=e=>{let{menuItems:l,id:s,activeCourseCallback:a}=e,[n,i]=(0,r.useState)(l[0]),c=e=>{i(e),a(e)};return(0,t.jsxs)("div",{className:"relative flex select-none",children:[(0,t.jsxs)("div",{className:"absolute flex justify-between items-center h-full w-full pointer-events-none",children:[(0,t.jsx)("div",{className:"z-20 h-full w-3 bg-gradient-to-r from-inherit to-transparent"}),(0,t.jsx)("div",{className:"z-20 h-full w-3 bg-gradient-to-l from-inherit to-transparent"})]}),(0,t.jsx)("div",{className:"flex whitespace-nowrap gap-6 px-4 overflow-x-auto scrollbar-hide scroll-smooth",children:l.map((e,l)=>(0,t.jsxs)(o.E.button,{onClick:()=>c(e),className:"".concat(n===e?"text-spoon-red font-medium":"text-spoon-blue font-normal"," relative rounded-full pt-1.5 pb-2 text-sm"),id:s+"_course_"+l,children:[n===e&&(0,t.jsx)(o.E.div,{layout:!0,layoutId:s,transition:{type:"spring",duration:.25,bounce:.35},className:"absolute h-0.5 w-full bottom-0 bg-spoon-red",style:{borderRadius:9999,position:"absolute",bottom:0}}),(0,t.jsx)("span",{className:"relative z-10",children:e})]},e))})]})},d=s(6455),u=s(5856),x=s(7743),h=e=>{let{title:l,content:s,defaultOpen:a}=e,[n,i]=(0,r.useState)(a);return(0,t.jsxs)("div",{className:"z-50",children:[(0,t.jsx)("div",{onClick:()=>i(!n),children:l}),n&&(0,t.jsx)("div",{children:s})]})},m=s(9743);let p=[{value:"vegan",label:"Vegan"},{value:"vegetarian",label:"Vegetarian"},{value:"pescatarian",label:"Pescatarian"},{value:"nonVegetarian",label:"Non Vegetarian"},{value:"ketogenic",label:"Ketogenic"},{value:"paleo",label:"Paleo"},{value:"glutenFree",label:"Gluten Free"},{value:"dairyFree",label:"Dairy Free"},{value:"lowCarb",label:"Low Carb"},{value:"highProtein",label:"High Protein"},{value:"halal",label:"Halal"},{value:"kosher",label:"Kosher"},{value:"lowFat",label:"Low Fat"},{value:"lowSodium",label:"Low Sodium"}];var f=()=>(0,t.jsx)(m.ZP,{options:p,menuPortalTarget:document.querySelector("body")});let b=[{value:"peanuts",label:"Peanuts"},{value:"treeNuts",label:"Tree nuts"},{value:"milk",label:"Milk"},{value:"egg",label:"Egg"},{value:"wheat",label:"Wheat"},{value:"soy",label:"Soy"},{value:"fish",label:"Fish"},{value:"shellfish",label:"Shellfish"},{value:"sesame",label:"Sesame"},{value:"mustard",label:"Mustard"},{value:"sulphites",label:"Sulphites"},{value:"lupin",label:"Lupin"}];var v=()=>(0,t.jsx)(m.ZP,{isMulti:!0,options:b,menuPortalTarget:document.querySelector("body")});let j=[{value:"low",label:"Low"},{value:"mild",label:"Mild"},{value:"high",label:"High"}];var g=()=>(0,t.jsx)(m.ZP,{options:j,menuPortalTarget:document.querySelector("body")}),w=()=>{let[e,l]=(0,r.useState)(0),[s,a]=(0,r.useState)(100);return(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"range",min:"0",max:"100",value:e,onChange:e=>l(e.target.value)}),(0,t.jsx)("input",{type:"range",min:"0",max:"100",value:s,onChange:e=>a(e.target.value)}),(0,t.jsx)("input",{type:"number",value:e,onChange:e=>l(e.target.value)}),(0,t.jsx)("input",{type:"number",value:s,onChange:e=>a(e.target.value)})]})},N=s(8840),y=e=>{let{showBorder:l=!0}=e,[s,a]=(0,r.useState)(!1),[n,{height:i}]=(0,N.Z)();return(0,t.jsx)(u.A,{transition:{duration:.25},children:(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center w-full shadow-xl rounded-2xl",children:[(0,t.jsxs)(o.E.button,{layout:!0,className:"flex bg-spoon-red text-spoon-beige font-light text-sm w-full px-3 py-2 text-center z-10",onClick:()=>a(!s),animate:{borderRadius:s?"1rem 1rem 0 0":"2rem"},children:[(0,t.jsx)(o.E.div,{layout:!0,animate:s?{rotate:-180}:{rotate:0},className:"flex flex-shrink-0",children:(0,t.jsx)(d.Z,{className:"text-spoon-beige h-5 w-5"})}),(0,t.jsx)("h1",{className:"w-full pr-4",children:"Choose what's shown"})]}),(0,t.jsx)(o.E.div,{animate:{height:i},className:"w-full rounded-b-2xl overflow-clip",children:(0,t.jsx)(x.M,{mode:"popLayout",children:(0,t.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},className:"relative",children:s&&(l?(0,t.jsx)("div",{ref:n,className:"flex bg-spoon-red rounded-b-2xl w-full absolute",children:(0,t.jsxs)("div",{className:"bg-white rounded-b-[0.9rem] w-full m-0.5 p-3",children:[(0,t.jsx)(h,{title:"Diet",content:(0,t.jsx)(f,{}),defaultOpen:!0}),(0,t.jsx)(h,{title:"Allergens",content:(0,t.jsx)(v,{})}),(0,t.jsx)(h,{title:"Heat Level",content:(0,t.jsx)(g,{})}),(0,t.jsx)(h,{title:"Price Range",content:(0,t.jsx)(w,{})})]})}):(0,t.jsxs)("div",{ref:n,className:"bg-white w-full p-3 rounded-b-2xl absolute",children:[(0,t.jsx)(h,{title:"Diet",content:(0,t.jsx)(f,{}),defaultOpen:!0}),(0,t.jsx)(h,{title:"Allergens",content:(0,t.jsx)(v,{})}),(0,t.jsx)(h,{title:"Heat Level",content:(0,t.jsx)(g,{})})]}))},s)})})]})})},S=()=>{let{restaurant:e,isLoading:l}=i(1),[s,a]=(0,r.useState)("Loading"),[n,o]=(0,r.useState)(""),d=null;return l?(0,t.jsx)("div",{className:"flex bg-spoon-grey p-8 h-full justify-center items-center",children:(0,t.jsx)("h2",{className:"text-spoon-blue font-normal text-lg",children:"Loading Restaurant Info"})}):(d=function(e){let l=[...new Set(e.map(e=>e.course))];return l}(e.menu),"Loading"===s&&a(d[0]),(0,t.jsxs)("div",{className:"flex flex-col w-full bg-spoon-grey pt-6 pb-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col px-4",children:[(0,t.jsx)("h2",{className:"text-spoon-blue font-normal text-lg",children:"Welcome to"}),(0,t.jsx)("h1",{className:"text-spoon-blue font-medium text-xl",children:e.brand[0].name})]}),(0,t.jsx)("div",{className:"flex justify-center items-center",children:(0,t.jsx)(y,{showBorder:!1})}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-spoon-grey from-40% to-spoon-grey w-full",children:(0,t.jsx)(c,{menuItems:d,id:"course-nav",activeCourseCallback:e=>{o(e),console.log(n)}})})]}))},C=s(6394),E=s.n(C),k=e=>{let{isCollapsed:l,onCollapse:s,showSideBtn:a=!1,dishName:n,dishCurrency:i,dishPrice:r,dishSpice:c,dishClass:h}=e;return(0,t.jsx)(u.A,{transition:{duration:.2},children:(0,t.jsx)("div",{className:"flex",onClick:s,children:(0,t.jsxs)(x.M,{mode:"popLayout",children:[(0,t.jsxs)(o.E.div,{layout:!0,className:"flex w-full items-center gap-3 ml-3 mr-3 py-3",children:[(0,t.jsx)(o.E.div,{layout:!0,animate:l?{rotate:0}:{rotate:-180},className:"flex flex-shrink-0",children:(0,t.jsx)(d.Z,{className:"text-spoon-blue h-5 w-5"})}),(0,t.jsxs)(o.E.div,{layout:!0,className:"flex flex-col items-start gap-1.5 w-full text-left",children:[(0,t.jsx)(o.E.h1,{layout:!0,className:"text-spoon-blue font-semibold text-sm",children:n}),(0,t.jsx)(o.E.h2,{layout:!0,className:"text-spoon-red font-medium text-xs",children:r.toLocaleString("en-US",{style:"currency",currency:i,minimumFractionDigits:2,maximumFractionDigits:2})})]}),(0,t.jsxs)(o.E.div,{layout:!0,className:"flex flex-col flex-shrink-0 justify-between items-end h-full",children:[(0,t.jsx)(E(),{src:c>0&&c<4?"/icons/Icon_Spice_"+c+".svg":"icons/Icon_Spice_1.svg",width:16,height:16,alt:"Spice level indicator"}),(0,t.jsx)(E(),{src:"nonveg"===h.replace(/\s+/g,"").toLowerCase()?"/icons/Icon_Class_NonVeg.svg":"/icons/Icon_Class_Veg.svg",width:16,height:16,alt:"Spice classification indicator"})]})]},"dishHeaderInfo"),a&&!0===l&&(0,t.jsx)(o.E.button,{variants:{visible:{opacity:1,x:0},hidden:{opacity:0,x:70},exit:{opacity:0,scale:0}},initial:"hidden",animate:"visible",exit:"exit",className:"bg-spoon-blue px-6 rounded-e-2xl",children:(0,t.jsx)(E(),{src:"/icons/Icon_View_AR.svg",width:26,height:26,alt:"View in AR"})},"dishHeaderViewBtn")]})})})};let I=["Info","Ingredients","Allergens"];var _=e=>{let{isCollapsed:l,dishInfo:s}=e,[a,n]=(0,r.useState)({tab:"Info",direction:1}),[i,d]=(0,r.useState)(0),[u,{height:h}]=(0,N.Z)(),[m,{width:p}]=(0,N.Z)(),f={hidden:{x:p*a.direction},show:{x:0,transition:{duration:.25}},exit:e=>({x:-p*e,transition:{duration:.25}})};return(0,t.jsxs)("div",{ref:m,className:"".concat(l?"hidden":"flex flex-col"," pt-1.5 pb-2 text-sm border-2 border-black"),children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-white from-40% to-white w-full border-2 border-red-500",children:(0,t.jsx)(c,{menuItems:I,id:"dish-info-nav",activeCourseCallback:e=>{let l=I.indexOf(e),s=l>i?1:-1;d(l),n({tab:e,direction:s})}})}),(0,t.jsx)(o.E.div,{animate:{height:h||"auto"},className:"relative border-2 border-green-500",children:(0,t.jsx)(x.M,{custom:a.direction,mode:"sync",children:(0,t.jsx)(o.E.div,{custom:a.direction,variants:f,initial:"hidden",animate:"show",exit:"exit",children:(0,t.jsxs)("div",{ref:u,className:"absolute",children:["Info"===a.tab&&(0,t.jsx)(o.E.div,{className:"flex p-4  border-2 border-black",children:(0,t.jsx)("p",{className:"text-spoon-blue text-sm font-light",children:s.description})}),"Ingredients"===a.tab&&(0,t.jsx)(o.E.div,{className:"flex p-4  border-2 border-black",children:(0,t.jsx)("ul",{className:"list-disc list-inside",children:s.ingredients.map((e,l)=>(0,t.jsx)("li",{className:"text-spoon-blue text-sm font-light",children:e},l))})}),"Allergens"===a.tab&&(0,t.jsx)(o.E.div,{className:"flex p-4  border-2 border-black",children:(0,t.jsx)("ul",{className:"list-disc list-inside",children:s.allergen.map((e,l)=>(0,t.jsx)("li",{className:"text-spoon-blue text-sm font-light",children:e},l))})})]})},a.tab)})})]})},P=e=>{let{dishInfo:l}=e,[s,a]=(0,r.useState)(!0),[n,{height:i}]=(0,N.Z)();return(0,t.jsx)("div",{className:"flex flex-col justify-center bg-white p-0 rounded-2xl shadow-xl overflow-clip w-full",children:(0,t.jsx)(o.E.div,{animate:{height:i},transition:{duration:.15},children:(0,t.jsx)(x.M,{children:(0,t.jsxs)("div",{ref:n,children:[(0,t.jsx)(k,{isCollapsed:s,onCollapse:()=>{a(!s)},dishName:l.name,dishCurrency:l.currency,dishPrice:l.price,dishSpice:l.spiceMeter,dishClass:l.dietaryClassification}),(0,t.jsx)(_,{isCollapsed:s,dishInfo:l})]})})})})},L=e=>{let{menuItems:l,course:s}=e,a=l.filter(e=>e.course===s);return(0,t.jsx)("div",{className:"flex flex-col items-center w-full gap-2",children:a.map((e,l)=>(0,t.jsx)(P,{dishInfo:e},l))})},F=e=>{let{brandInfo:l}=e;return(0,t.jsx)("div",{children:"PrimaryNav"})};function M(){let{restaurant:e,isLoading:l,isError:s}=i(1);return l?(0,t.jsx)("div",{className:"flex bg-spoon-grey p-8 w-screen h-screen justify-center items-center",children:(0,t.jsx)("h2",{className:"text-spoon-blue font-normal text-lg",children:"Loading Menu Info"})}):s?(0,t.jsx)("div",{className:"flex bg-spoon-grey p-8 w-screen h-screen justify-center items-center",children:(0,t.jsx)("h2",{className:"text-spoon-blue font-normal text-lg",children:"There was an error"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("main",{className:"bg-spoon-grey portrait:hidden flex min-h-screen flex-col items-center justify-center p-8 pt-12 gap-10",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h1",{className:"text-spoon-red font-medium text-3xl",children:"Oops!"})}),(0,t.jsx)("div",{className:"bg-spoon-red text-spoon-beige rounded-2xl p-6 w-96 text-justify shadow-2xl",children:(0,t.jsx)("p",{children:"This experience is designed to be viewed in portrait. Please rotate your device to view the menu."})})]}),(0,t.jsxs)("main",{className:"landscape:hidden flex flex-col items-center px-4 bg-spoon-grey w-screen h-screen overflow-scroll",children:[(0,t.jsx)(S,{}),(0,t.jsx)(F,{}),(0,t.jsx)(L,{menuItems:e.menu,course:e.brand[0].courses[0]})]})]})}}},function(e){e.O(0,[318,253,961,744],function(){return e(e.s=7919)}),_N_E=e.O()}]);